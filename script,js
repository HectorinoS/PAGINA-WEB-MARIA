document.addEventListener("DOMContentLoaded", function() {
    // Obtenemos los elementos del DOM
    const fechaInput = document.getElementById('fecha');
    const horarioInput = document.getElementById('horario');

    // Establecer la fecha mínima para el input de fecha (hoy)
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, '0'); // Enero es 0
    const dd = String(today.getDate()).padStart(2, '0');
    const minDate = `${yyyy}-${mm}-${dd}`;
    
    // Asignar la fecha mínima al campo de fecha
    fechaInput.setAttribute('min', minDate);

    // Función para validar la hora
    function validateForm() {
        const selectedDate = new Date(fechaInput.value);
        const today = new Date();
        
        if (selectedDate.toDateString() === today.toDateString()) {
            const currentTime = `${String(today.getHours()).padStart(2, '0')}:${String(today.getMinutes()).padStart(2, '0')}`;
            
            // Validamos si la hora seleccionada es anterior a la hora actual
            if (horarioInput.value < currentTime) {
                alert('No puedes reservar en una hora pasada para el día actual.');
                return false;
            }
        }
        
        return true;
    }
});
